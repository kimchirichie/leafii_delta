<div id="landing">
	<title>Leafii - Showcase & Discover Personal Websites</title>
	<div class="intro">
		<h1 class="animated fadeIn">Showcase & Discover Personal Websites</h1>
	</div>

	<div class="filterBar" layout="row" layout-align="center center" layout-xs="column">
		<span ng-click="cardFilter = '-createdAt'">Most Recent</span>
		<span ng-click="cardFilter = '-profile.views'">Most Viewed</span>
		<span ng-click="cardFilter = '-profile.likes'">Most Liked</span>
	</div>

	<div ng-show="!landing.users">
		<div class="loadingData" layout="row" layout-xs="column" layout-align="center center">
			<h1>Loading Users.....</h1>
			<md-progress-circular md-mode='indeterminate' md-diameter="150px"></md-progress-circular>
		</div>
	</div>

	<div class="board" ng-init="horizontal = false; cardFilter = '-createdAt'">

		<div ng-show="landing.users" layout="row" layout-align="center center">
			<md-button class="md-raised" ng-click="horizontal = false" aria-label="Grid"><i class="zmdi zmdi-view-module"></i></md-button>
			<md-button class="md-raised" ng-click="horizontal = true" aria-label="Horizontal"><i class="zmdi zmdi-menu"></i></md-button>
		</div>
		
		<!-- Grid View Mode -->
		<div layout="row" layout-align="center center" layout-wrap>

	        <md-card ng-show="!horizontal" class="md-default-theme candidates grid" layout="column" layout-align="center center" ng-repeat="user in landing.users | orderBy: cardFilter">
				<md-tooltip md-direction="top">{{landing.absolutify(user.profile.url)}}</md-tooltip>
				<p class="forHire" ng-show="{{user.profile.available}}"><i class="zmdi zmdi-circle"></i> Available</p>
				<p class="noHire" ng-show="{{!user.profile.available}}"><i class="zmdi zmdi-circle"></i> Unavailable</p>
				<a ng-click="landing.viewLog(user)" href="{{landing.absolutify(user.profile.url)}}" target="_blank">
					<img class="profilePic" ng-src="{{user.profile.image ? landing.secureProtocol(user.profile.image) : 'images/defaultProfilePic.png'}}"/>
				</a> 
	          <md-card-content>
           		<div class="cardInfo" layout="column">
					<a ng-click="landing.viewLog(user)" href="{{landing.absolutify(user.profile.url)}}" target="_blank">{{user.profile.occupation ? user.profile.occupation: 'Not specified' | limitTo: 17 }}{{user.profile.occupation.length > 17 ? '...' : ''}}</a>
					<div class="status" layout="row" layout-align="space-around center">
						<span><i class="zmdi zmdi-eye"></i> {{user.profile.views}}</span>
				        <md-button class="md-fab md-mini fav" ng-click="landing.liked(user)" ng-show="landing.rootScope.currentUser" aria-label="like"><i ng-class="{upvoted : user.profile.likes.includes(landing.currentUser)}" class="zmdi zmdi-long-arrow-up"></i></md-button>
						<span><i class="zmdi zmdi-star"></i> {{user.profile.likes.length}}</span>
					</div>
					<p>{{user.profile.firstName + ' ' + user.profile.lastName}}</p>
					<p><i class="zmdi zmdi-pin mapColor"></i> {{user.profile.location.formatted_address ? user.profile.location.formatted_address : user.profile.location | limitTo:25}}{{user.profile.location.formatted_address.length > 25 ? '...' : ''}}</p>
				</div>
	          </md-card-content>
	        </md-card>
		</div>
	
		
		<!-- Horizaontal View Mode -->
		<div ng-show="horizontal" class="candidates horizontal" layout="column">
			<md-card class="md-default-theme" layout="row" ng-repeat="user in landing.users | orderBy: cardFilter">
				<div class="info" layout="column" layout-align="center center">
					<p class="forHire" ng-show="{{user.profile.available}}"><i class="zmdi zmdi-circle"></i> Available</p>
					<p class="noHire" ng-show="{{!user.profile.available}}"><i class="zmdi zmdi-circle"></i> Unavailable</p>
					<a ng-click="landing.viewLog(user)" href="{{landing.absolutify(user.profile.url)}}" target="_blank"><img class="profilePicSmall" ng-src="{{user.profile.image ? landing.secureProtocol(user.profile.image) : 'images/defaultProfilePic.png'}}"/></a>
					<p class="noMargin">{{user.profile.firstName + ' ' + user.profile.lastName}}</p>
					<p class="noMargin"><i class="zmdi zmdi-pin mapColor"></i> {{user.profile.location.formatted_address ? user.profile.location.formatted_address : user.profile.location}}</p>
				</div>
				<md-card-content layout="row" layout="end center">
					<div class="cardInfoSmall" layout="column">
						<a ng-click="landing.viewLog(user)" href="{{landing.absolutify(user.profile.url)}}" target="_blank">{{user.profile.occupation ? user.profile.occupation: 'Not specified'}}
							<md-tooltip md-direction="top">{{landing.absolutify(user.profile.url)}}</md-tooltip>
						</a>
						<div class="status" layout="row" layout-align="space-around center">
							<span><i class="zmdi zmdi-eye"></i> {{user.profile.views}}</span>
							<md-button class="md-fab md-mini fav" ng-click="landing.liked(user)" ng-show="landing.rootScope.currentUser" aria-label="like"><i ng-class="{upvoted : user.profile.likes.includes(landing.currentUser)}" class="zmdi zmdi-long-arrow-up"></i></md-button>
							<span><i class="zmdi zmdi-star"></i> {{user.profile.likes.length}}</span>
						</div>
					</div>
				</md-card-content>
			</md-card>
		</div>
	</div>
</div>
